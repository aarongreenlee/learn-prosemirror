<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    </head>
    <body>
    <div class="container">
      <h1>Getting and setting the editor's content</h1>
      <p>The document is stored on the <code>doc</code> property of an editor instance (e.g. <code>pm.doc</code>). You'll use this object for other stuff later. For now we'll use it to get the document's content in various formats.</p>
      <p>Here, we'll create an editor and display the JSON representation when the content changes.</p>
      <pre>
import {ProseMirror} from &quot;prosemirror/dist/edit&quot;
import {fromHTML, toHTML} from &quot;prosemirror/dist/format&quot;
import {defaultSchema} from &quot;prosemirror/dist/model&quot;
import &quot;prosemirror/dist/inputrules/autoinput&quot;
import &quot;prosemirror/dist/menu/tooltipmenu&quot;
import &quot;prosemirror/dist/menu/menubar&quot;

let pm = window.pm = new ProseMirror({
  place: document.querySelector(&quot;#editor&quot;),
  doc: fromHTML( defaultSchema, &quot;&lt;p&gt;Hi&lt;/p&gt;&quot; ),
  menuBar: true,
  tooltipMenu: true
})

function displayDocInJSON() {
  let docInJSON = JSON.stringify( pm.doc.toJSON(), null, 2 )
  document.querySelector(&apos;.document-in-json&apos;).innerHTML = docInJSON
}

pm.on( &apos;transform&apos;, displayDocInJSON )
displayDocInJSON()</pre>
      <p id="editor"></p>
      <p>The document is made out of nodes in a tree-shape.</p>
      <pre class="document-in-json"></pre>
      <p>If you are saving the document, you could store the content in this JSON format. A document an also be set from JSON with <code>Node.fromJSON()</code>. e.g.
<pre>
document.querySelector(&quot;.set-content-with-json-button&quot;).addEventListener(&apos;click&apos;, function() {
  pm.setDoc( Node.fromJSON(defaultSchema, {&quot;type&quot;: &quot;doc&quot;,&quot;content&quot;: [{&quot;type&quot;: &quot;paragraph&quot;,&quot;content&quot;: [{&quot;type&quot;: &quot;text&quot;,&quot;text&quot;: &quot;Hello&quot;}]}]}) )
})
</pre>
<p><button type="button" class="set-content-with-json-button">Set content with JSON</button></p>
      <p>ProseMirror can output content in other formats, such as HTML and plain text.</p>
      <pre>
document.querySelector(".show-content-in-html-button").addEventListener('click', function() {
  alert( toHTML( pm.doc ) );
})</pre>
      <p><button type="button" class="show-content-in-html-button">Show content in HTML format</button></p>
      <pre>
document.querySelector(".show-content-in-html-button").addEventListener('click', function() {
  alert( toHTML( pm.doc ) );
})</pre>
      <p><button type="button" class="show-content-in-plain-text-button">Show content in plain text</button></p>
      <p>The document can be transformed into a custom format by creating a serializing function similar to the existing ones.
    </div>
    <script src="dist/index.js"></script>
  </body>
</html>
